define("ng-editable-tree",[],function(){"use strict";angular.module("ngEditableTree",["ngResource"]).directive("treeView",function(){return{restrict:"A",transclude:"element",priority:1e3,terminal:!0,compile:function(a,b,c){var d,e,f,g,h;return d=b.treeView.match(/^(.*) in ((?:.*\.)?(.*)) at (.*)$/),e=d[1],f=d[2],g=d[3],h=d[4],function(a,b,d){function i(a){for(var b=k.length;b--;)if(k[b].scope[e]===a)return k.splice(b,1)[0]}var j=b[0].parentNode,k=[];a.$watch(f,function(b){var d=[];!function m(a,b,f,j){for(var l,n,o,p,q,r=0,s=a?a.length:0,t=s-1;s>r;++r)l=b.childNodes[r],n=a[r],o=i(n),o&&o.parentScope!==f&&(k.push(o),o=null),o?o.element!==l&&b.insertBefore(o.element,l):c(f.$new(),function(a,c){c[e]=n,o={scope:c,parentScope:f,element:a[0],branch:a.find(h)[0]},b.insertBefore(o.element,l)}),p=o.scope,p.$depth=j,p.$index=r,p.$first=0===r,p.$last=r===t,p.$middle=!(p.$first||p.$last),d.push(o),q=n[g],q&&q.length&&m(q,o.branch,p,j+1)}(b,j,a,0);for(var f=k.length;f--;){var l=k[f];l.scope&&l.scope.$destroy(),l.element&&l.element.parentNode.removeChild(l.element)}k=d},!0)}}}}).factory("ngNestedResource",["$resource","$q","$rootScope",function(a,b,c){function d(d,e,f,g){function h(a,b){b=b||null;for(var c=0,d=a.length;d>c;c++)a[c][g.nestedField]||(a[c][g.nestedField]=[]),a[c]instanceof j||(a[c]=new j(a[c])),a[c][g.nestedField].length&&h(a[c][g.nestedField],a[c])}var i={update:{method:"POST"},create:{method:"PUT",params:{insert:!0}},move:{method:"PUT",params:{move:!0}}};f=angular.extend(i,f),g=angular.extend({nestedField:"children"},g);var j=a(d,e,f);j.prototype.$insertItem=function(a){a=a||angular.noop;var b=this,d=angular.copy(this);return d.$create({id:b.id},function(d){d[g.nestedField]=[],b.$expanded=!0,b[g.nestedField].unshift(d),c.$$phase||c.$apply(),a(d)})},j.prototype.moveArray=function(a,b,c){function d(a,b){var c,e=a[g.nestedField];if(e)for(c=e.length;c--;){if(e[c]===b)return e.splice(c,1);d(e[c],b)}}return this[g.nestedField]||(this[g.nestedField]=[]),d(a,b),this[g.nestedField].splice(c,0,b),c?this[g.nestedField][c-1]:this},j.prototype.$moveItem=function(a,b,c){c=c||angular.noop;var d=new j(this);return d.$move({id:this.id,insert:0==b,before:a.id},function(a){c(a)})},j.getTree=function(a,c){c=c||angular.noop,"function"==typeof a&&(c=a,a={});var d=b.defer();return j.get(a,function(a){h(a[g.nestedField]),d.resolve(a),c(a)}),d.promise};var k=function(a,b,c){if(c=c||[],angular.isUndefined(a))return null;if(b.call(this,a))return a;for(var d=null,e=0,f=a[g.nestedField].length;f>e;e++)if(d=k(a[g.nestedField][e],b,c)){c.push(a[g.nestedField][e]);break}return d};return j.find=function(a,b,c){return k(a,b,c)},j}return d}])});
//# sourceMappingURL=ng-editable-tree.min.map